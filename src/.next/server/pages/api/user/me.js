"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/user/me";
exports.ids = ["pages/api/user/me"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("bcrypt");

/***/ }),

/***/ "cookies-next":
/*!*******************************!*\
  !*** external "cookies-next" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("cookies-next");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next-connect":
/*!*******************************!*\
  !*** external "next-connect" ***!
  \*******************************/
/***/ ((module) => {

module.exports = import("next-connect");;

/***/ }),

/***/ "(api)/./config.ts":
/*!*******************!*\
  !*** ./config.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst serverConfig = {\n    jwt: {\n        keyGeneratingJWT: process.env.KEYJWT,\n        issuer: process.env.ISSUER,\n        expireTime: process.env.EXPIRE_TIME\n    },\n    cookieSettings: {\n        httpOnly: true,\n        secure: process.env.production === \"true\",\n        sameSite: \"none\"\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (serverConfig);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9jb25maWcudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUVBLE1BQU1BLFlBQVksR0FBRztJQUNqQkMsR0FBRyxFQUFHO1FBQ0ZDLGdCQUFnQixFQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsTUFBTTtRQUNyQ0MsTUFBTSxFQUFHSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csTUFBTTtRQUMzQkMsVUFBVSxFQUFHTCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0ssV0FBVztLQUV2QztJQUNEQyxjQUFjLEVBQUc7UUFDYkMsUUFBUSxFQUFHLElBQUk7UUFBRUMsTUFBTSxFQUFJVCxPQUFPLENBQUNDLEdBQUcsQ0FBQ1MsVUFBVSxLQUFlLE1BQU07UUFBR0MsUUFBUSxFQUFHLE1BQU07S0FDN0Y7Q0FDSjtBQUVELGlFQUFlZCxZQUFZLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91bnNvbW5pYS8uL2NvbmZpZy50cz8yNjlmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvb2tpZVNlcmlhbGl6ZU9wdGlvbnMgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvdHlwZXNcIjtcclxuXHJcbmNvbnN0IHNlcnZlckNvbmZpZyA9IHtcclxuICAgIGp3dCA6IHtcclxuICAgICAgICBrZXlHZW5lcmF0aW5nSldUIDogcHJvY2Vzcy5lbnYuS0VZSldUIGFzIHN0cmluZyxcclxuICAgICAgICBpc3N1ZXIgOiBwcm9jZXNzLmVudi5JU1NVRVIgYXMgc3RyaW5nLFxyXG4gICAgICAgIGV4cGlyZVRpbWUgOiBwcm9jZXNzLmVudi5FWFBJUkVfVElNRSBhcyBzdHJpbmdcclxuXHJcbiAgICB9LFxyXG4gICAgY29va2llU2V0dGluZ3MgOiB7XHJcbiAgICAgICAgaHR0cE9ubHkgOiB0cnVlLCBzZWN1cmUgOiAocHJvY2Vzcy5lbnYucHJvZHVjdGlvbiBhcyBzdHJpbmcgPT09IFwidHJ1ZVwiKSwgc2FtZVNpdGUgOiBcIm5vbmVcIlxyXG4gICAgfSBhcyBDb29raWVTZXJpYWxpemVPcHRpb25zXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNlcnZlckNvbmZpZzsiXSwibmFtZXMiOlsic2VydmVyQ29uZmlnIiwiand0Iiwia2V5R2VuZXJhdGluZ0pXVCIsInByb2Nlc3MiLCJlbnYiLCJLRVlKV1QiLCJpc3N1ZXIiLCJJU1NVRVIiLCJleHBpcmVUaW1lIiwiRVhQSVJFX1RJTUUiLCJjb29raWVTZXR0aW5ncyIsImh0dHBPbmx5Iiwic2VjdXJlIiwicHJvZHVjdGlvbiIsInNhbWVTaXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./config.ts\n");

/***/ }),

/***/ "(api)/./controller/user.controller.ts":
/*!***************************************!*\
  !*** ./controller/user.controller.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"login\": () => (/* binding */ login),\n/* harmony export */   \"logout\": () => (/* binding */ logout),\n/* harmony export */   \"myInfo\": () => (/* binding */ myInfo),\n/* harmony export */   \"register\": () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _utils_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/prisma */ \"(api)/./utils/prisma.ts\");\n/* harmony import */ var cookies_next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cookies-next */ \"cookies-next\");\n/* harmony import */ var cookies_next__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cookies_next__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_createJWT__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/createJWT */ \"(api)/./utils/createJWT.ts\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nasync function myInfo(req, res) {\n    return res.status(200).send({\n        message: \"User exists\",\n        response: res.locals.user\n    });\n}\nasync function login(req, res) {\n    const { username , password  } = req.body;\n    if ([\n        username,\n        password\n    ].some((value)=>value === undefined)) {\n        return res.status(400).send({\n            error: \"incompleteData\",\n            message: \"Data is not complete\"\n        });\n    }\n    const user = await _utils_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.findFirst({\n        where: {\n            username: username\n        }\n    });\n    if (user === null) {\n        return res.status(400).send({\n            error: \"noUser\",\n            message: \"User doesn't exist\"\n        });\n    }\n    if (!await bcrypt__WEBPACK_IMPORTED_MODULE_3___default().compare(password, user.password)) {\n        return res.status(400).send({\n            error: \"invalidPassword\",\n            message: \"Wrong password\"\n        });\n    }\n    const { error , response: jwt  } = (0,_utils_createJWT__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(user);\n    if (error !== null) {\n        return res.status(500).send({\n            error,\n            message: \"Error making JWT\"\n        });\n    }\n    (0,cookies_next__WEBPACK_IMPORTED_MODULE_1__.setCookie)(\"token\", jwt, {\n        req,\n        res\n    });\n    return res.status(200).send({\n        message: \"Login succesful\"\n    });\n}\nasync function register(req, res) {\n    const { username , email , password  } = req.body;\n    if ([\n        username,\n        password,\n        email\n    ].some((value)=>value === undefined)) {\n        return res.status(400).send({\n            error: \"incompleteData\",\n            message: \"Data is not complete\"\n        });\n    }\n    const existingUser = await _utils_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.findFirst({\n        where: {\n            username\n        }\n    });\n    if (existingUser !== null && existingUser !== undefined) {\n        return res.status(400).send({\n            message: \"User already exists!\"\n        });\n    }\n    const user = await _utils_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.create({\n        data: {\n            username,\n            email,\n            password: await bcrypt__WEBPACK_IMPORTED_MODULE_3___default().hash(password, 10)\n        }\n    });\n    const { error , response: jwt  } = (0,_utils_createJWT__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(user);\n    if (error !== null) {\n        return res.status(500).send({\n            error,\n            message: \"Error making JWT\"\n        });\n    }\n    (0,cookies_next__WEBPACK_IMPORTED_MODULE_1__.setCookie)(\"token\", jwt, {\n        req,\n        res\n    });\n    return res.status(200).send({\n        message: \"Register succesful\"\n    });\n}\nasync function logout(req, res) {\n    (0,cookies_next__WEBPACK_IMPORTED_MODULE_1__.deleteCookie)(\"token\", {\n        req,\n        res\n    });\n    return res.status(200).send({\n        message: \"Logout succesful\"\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUNDLE9BQU8sRUFBRyxrQkFBa0I7S0FBQyxDQUFDLENBQUM7Q0FDL0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91bnNvbW5pYS8uL2NvbnRyb2xsZXIvdXNlci5jb250cm9sbGVyLnRzP2EyMjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHByaXNtYSBmcm9tIFwiLi4vdXRpbHMvcHJpc21hXCI7XHJcbmltcG9ydCB7IE5leHRBcGlSZXF1ZXN0IH0gZnJvbSBcIm5leHRcIjtcclxuaW1wb3J0IHtkZWxldGVDb29raWUsIHNldENvb2tpZX0gZnJvbSBcImNvb2tpZXMtbmV4dFwiXHJcbmltcG9ydCBjcmVhdGVKV1QgZnJvbSBcIi4uL3V0aWxzL2NyZWF0ZUpXVFwiO1xyXG5pbXBvcnQgeyBOZXh0QXBpUmVzcG9uc2VXaXRoTG9jYWxzLCBVc2VyLCBVc2VyT3BhcXVlIH0gZnJvbSBcIi4uL3R5cGVzL3R5cGVzXCI7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0JztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBteUluZm8gKHJlcSA6IE5leHRBcGlSZXF1ZXN0LCByZXMgOiBOZXh0QXBpUmVzcG9uc2VXaXRoTG9jYWxzKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe21lc3NhZ2UgOiBcIlVzZXIgZXhpc3RzXCIsIHJlc3BvbnNlIDogcmVzLmxvY2Fscy51c2VyIGFzIFVzZXJPcGFxdWV9KVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9naW4gKHJlcSA6IE5leHRBcGlSZXF1ZXN0LCByZXMgOiBOZXh0QXBpUmVzcG9uc2VXaXRoTG9jYWxzKSB7XHJcblxyXG4gICAgY29uc3Qge3VzZXJuYW1lLCBwYXNzd29yZH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoW3VzZXJuYW1lLCBwYXNzd29yZF0uc29tZSh2YWx1ZSA9PiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7ZXJyb3IgOiBcImluY29tcGxldGVEYXRhXCIsIG1lc3NhZ2UgOiBcIkRhdGEgaXMgbm90IGNvbXBsZXRlXCJ9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kRmlyc3Qoe1xyXG4gICAgICAgIHdoZXJlIDoge1xyXG4gICAgICAgICAgICB1c2VybmFtZSA6IHVzZXJuYW1lXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAodXNlciA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7ZXJyb3IgOiBcIm5vVXNlclwiLCBtZXNzYWdlIDogXCJVc2VyIGRvZXNuJ3QgZXhpc3RcIn0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEoYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpKSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7ZXJyb3IgOlwiaW52YWxpZFBhc3N3b3JkXCIsIG1lc3NhZ2UgOiBcIldyb25nIHBhc3N3b3JkXCJ9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHtlcnJvciwgcmVzcG9uc2UgOiBqd3R9ID0gY3JlYXRlSldUKHVzZXIgYXMgVXNlcilcclxuXHJcbiAgICBpZiAoZXJyb3IgIT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoe2Vycm9yLCBtZXNzYWdlIDogXCJFcnJvciBtYWtpbmcgSldUXCJ9KVxyXG4gICAgfVxyXG5cclxuICAgIHNldENvb2tpZShcInRva2VuXCIsIGp3dCwge3JlcSwgcmVzfSlcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe21lc3NhZ2UgOiBcIkxvZ2luIHN1Y2Nlc2Z1bFwifSlcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyIChyZXEgOiBOZXh0QXBpUmVxdWVzdCwgcmVzIDogTmV4dEFwaVJlc3BvbnNlV2l0aExvY2Fscykge1xyXG4gICAgY29uc3Qge3VzZXJuYW1lLCBlbWFpbCwgcGFzc3dvcmR9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgaWYgKFt1c2VybmFtZSwgcGFzc3dvcmQsIGVtYWlsXS5zb21lKHZhbHVlID0+IHZhbHVlID09PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHtlcnJvciA6IFwiaW5jb21wbGV0ZURhdGFcIiwgbWVzc2FnZSA6IFwiRGF0YSBpcyBub3QgY29tcGxldGVcIn0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZEZpcnN0KHtcclxuICAgICAgICB3aGVyZSA6IHtcclxuICAgICAgICAgICAgdXNlcm5hbWVcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGlmIChleGlzdGluZ1VzZXIgIT09IG51bGwgJiYgZXhpc3RpbmdVc2VyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoe21lc3NhZ2UgOiBcIlVzZXIgYWxyZWFkeSBleGlzdHMhXCJ9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5jcmVhdGUoe1xyXG4gICAgICAgIGRhdGEgOiB7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgICBlbWFpbCxcclxuICAgICAgICAgICAgcGFzc3dvcmQgOiBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCB7ZXJyb3IsIHJlc3BvbnNlIDogand0fSA9IGNyZWF0ZUpXVCh1c2VyIGFzIFVzZXIpXHJcblxyXG4gICAgaWYgKGVycm9yICE9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtlcnJvciwgbWVzc2FnZSA6IFwiRXJyb3IgbWFraW5nIEpXVFwifSlcclxuICAgIH1cclxuXHJcbiAgICBzZXRDb29raWUoXCJ0b2tlblwiLCBqd3QsIHtyZXEsIHJlc30pXHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHttZXNzYWdlIDogXCJSZWdpc3RlciBzdWNjZXNmdWxcIn0pXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dvdXQgKHJlcSA6IE5leHRBcGlSZXF1ZXN0LCByZXMgOiBOZXh0QXBpUmVzcG9uc2VXaXRoTG9jYWxzKSB7XHJcbiAgICBkZWxldGVDb29raWUoXCJ0b2tlblwiLCB7cmVxLCByZXN9KTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7bWVzc2FnZSA6IFwiTG9nb3V0IHN1Y2Nlc2Z1bFwifSk7XHJcbn0iXSwibmFtZXMiOlsicHJpc21hIiwiZGVsZXRlQ29va2llIiwic2V0Q29va2llIiwiY3JlYXRlSldUIiwiYmNyeXB0IiwibXlJbmZvIiwicmVxIiwicmVzIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJyZXNwb25zZSIsImxvY2FscyIsInVzZXIiLCJsb2dpbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJib2R5Iiwic29tZSIsInZhbHVlIiwidW5kZWZpbmVkIiwiZXJyb3IiLCJmaW5kRmlyc3QiLCJ3aGVyZSIsImNvbXBhcmUiLCJqd3QiLCJyZWdpc3RlciIsImVtYWlsIiwiZXhpc3RpbmdVc2VyIiwiY3JlYXRlIiwiZGF0YSIsImhhc2giLCJsb2dvdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./controller/user.controller.ts\n");

/***/ }),

/***/ "(api)/./middleware/extractJWT.ts":
/*!**********************************!*\
  !*** ./middleware/extractJWT.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ extractJWT)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"(api)/./config.ts\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n\n\nasync function extractJWT(req, res, next) {\n    const { jwt: { keyGeneratingJWT  } , cookieSettings  } = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    let token = req.cookies.token;\n    res.locals = {};\n    if (token) {\n        token = token;\n        jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, keyGeneratingJWT, (error, user)=>{\n            if (!error) {\n                res.locals.user = user;\n            } else {\n                res.locals.user = undefined;\n            }\n        });\n        return next();\n    }\n    res.locals.user = undefined;\n    return next();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9taWRkbGV3YXJlL2V4dHJhY3RKV1QudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUdxQztBQUNQO0FBSWYsZUFBZUUsVUFBVSxDQUFFQyxHQUFvQixFQUFFQyxHQUErQixFQUFFQyxJQUFVLEVBQUU7SUFDekcsTUFBTSxFQUFDSixHQUFHLEVBQUcsRUFBQ0ssZ0JBQWdCLEdBQUMsR0FBRUMsY0FBYyxHQUFDLEdBQUdQLCtDQUFZO0lBQy9ELElBQUlRLEtBQUssR0FBR0wsR0FBRyxDQUFDTSxPQUFPLENBQUNELEtBQUs7SUFFN0JKLEdBQUcsQ0FBQ00sTUFBTSxHQUFHLEVBQUUsQ0FBQztJQUNoQixJQUFJRixLQUFLLEVBQUU7UUFDUEEsS0FBSyxHQUFHQSxLQUFLLENBQVc7UUFDeEJQLDBEQUFVLENBQUNPLEtBQUssRUFBRUYsZ0JBQWdCLEVBQUUsQ0FBQ00sS0FBSyxFQUFFQyxJQUFJLEdBQUs7WUFDakQsSUFBSSxDQUFDRCxLQUFLLEVBQUU7Z0JBQ1JSLEdBQUcsQ0FBQ00sTUFBTSxDQUFDRyxJQUFJLEdBQUdBLElBQUksQ0FBZTthQUN4QyxNQUFNO2dCQUNIVCxHQUFHLENBQUNNLE1BQU0sQ0FBQ0csSUFBSSxHQUFHQyxTQUFTLENBQUM7YUFDL0I7U0FDSixDQUFDO1FBQ0YsT0FBT1QsSUFBSSxFQUFFLENBQUM7S0FDakI7SUFFREQsR0FBRyxDQUFDTSxNQUFNLENBQUNHLElBQUksR0FBR0MsU0FBUyxDQUFDO0lBQzVCLE9BQU9ULElBQUksRUFBRSxDQUFDO0NBQ2pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdW5zb21uaWEvLi9taWRkbGV3YXJlL2V4dHJhY3RKV1QudHM/MDNhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbmV4dCwgeyBOZXh0QXBpUmVxdWVzdCB9IGZyb20gXCJuZXh0XCI7XHJcbmltcG9ydCB7IE5leHRBcGlSZXNwb25zZVdpdGhMb2NhbHMgfSBmcm9tIFwiLi4vdHlwZXMvdHlwZXNcIjtcclxuaW1wb3J0IHR5cGUgeyBVc2VyT3BhcXVlIH0gZnJvbSBcIi4uL3R5cGVzL3R5cGVzXCJcclxuaW1wb3J0IHNlcnZlckNvbmZpZyBmcm9tIFwiLi4vY29uZmlnXCI7XHJcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xyXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBleHRyYWN0SldUIChyZXEgOiBOZXh0QXBpUmVxdWVzdCwgcmVzIDogTmV4dEFwaVJlc3BvbnNlV2l0aExvY2FscywgbmV4dCA6IGFueSkge1xyXG4gICAgY29uc3Qge2p3dCA6IHtrZXlHZW5lcmF0aW5nSldUfSwgY29va2llU2V0dGluZ3N9ID0gc2VydmVyQ29uZmlnO1xyXG4gICAgbGV0IHRva2VuID0gcmVxLmNvb2tpZXMudG9rZW47XHJcblxyXG4gICAgcmVzLmxvY2FscyA9IHt9O1xyXG4gICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgdG9rZW4gPSB0b2tlbiBhcyBzdHJpbmc7XHJcbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwga2V5R2VuZXJhdGluZ0pXVCwgKGVycm9yLCB1c2VyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IHVzZXIgYXMgVXNlck9wYXF1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHsgXHJcbiAgICAgICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSBcclxuICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcy5sb2NhbHMudXNlciA9IHVuZGVmaW5lZDtcclxuICAgIHJldHVybiBuZXh0KCk7XHJcbn0iXSwibmFtZXMiOlsic2VydmVyQ29uZmlnIiwiand0IiwiZXh0cmFjdEpXVCIsInJlcSIsInJlcyIsIm5leHQiLCJrZXlHZW5lcmF0aW5nSldUIiwiY29va2llU2V0dGluZ3MiLCJ0b2tlbiIsImNvb2tpZXMiLCJsb2NhbHMiLCJ2ZXJpZnkiLCJlcnJvciIsInVzZXIiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./middleware/extractJWT.ts\n");

/***/ }),

/***/ "(api)/./middleware/loginStatus.ts":
/*!***********************************!*\
  !*** ./middleware/loginStatus.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ loginStatus)\n/* harmony export */ });\nfunction loginStatus(allowIfLoggedIn) {\n    const error = `${allowIfLoggedIn ? \"not\" : \"\"}loggedIn`;\n    const errorMessage = `You're ${allowIfLoggedIn ? \"not\" : \"already\"} logged in!`;\n    return async (req, res, next)=>{\n        if (allowIfLoggedIn ? res.locals.user === undefined : res.locals.user !== undefined) {\n            return res.status(401).send({\n                error,\n                message: errorMessage\n            });\n        }\n        return next();\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9taWRkbGV3YXJlL2xvZ2luU3RhdHVzLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFHZSxTQUFTQSxXQUFXLENBQUVDLGVBQXlCLEVBQUU7SUFDNUQsTUFBTUMsS0FBSyxHQUFHLENBQUMsRUFBRUQsZUFBZSxHQUFHLEtBQUssR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDO0lBQ3ZELE1BQU1FLFlBQVksR0FBRyxDQUFDLE9BQU8sRUFBRUYsZUFBZSxHQUFHLEtBQUssR0FBRyxTQUFTLENBQUMsV0FBVyxDQUFDO0lBQy9FLE9BQU8sT0FBT0csR0FBb0IsRUFBRUMsR0FBK0IsRUFBRUMsSUFBVSxHQUFLO1FBQ2hGLElBQUlMLGVBQWUsR0FBR0ksR0FBRyxDQUFDRSxNQUFNLENBQUNDLElBQUksS0FBS0MsU0FBUyxHQUFHSixHQUFHLENBQUNFLE1BQU0sQ0FBQ0MsSUFBSSxLQUFLQyxTQUFTLEVBQUc7WUFDbEYsT0FBT0osR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztnQkFBQ1QsS0FBSztnQkFBRVUsT0FBTyxFQUFHVCxZQUFZO2FBQUMsQ0FBQztTQUMvRDtRQUNELE9BQU9HLElBQUksRUFBRSxDQUFDO0tBQ2pCO0NBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91bnNvbW5pYS8uL21pZGRsZXdhcmUvbG9naW5TdGF0dXMudHM/ZDUwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCB9IGZyb20gXCJuZXh0XCJcclxuaW1wb3J0IHsgTmV4dEFwaVJlc3BvbnNlV2l0aExvY2FscyB9IGZyb20gXCIuLi90eXBlcy90eXBlc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbG9naW5TdGF0dXMgKGFsbG93SWZMb2dnZWRJbiA6IGJvb2xlYW4pIHtcclxuICAgIGNvbnN0IGVycm9yID0gYCR7YWxsb3dJZkxvZ2dlZEluID8gXCJub3RcIiA6IFwiXCJ9bG9nZ2VkSW5gO1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYFlvdSdyZSAke2FsbG93SWZMb2dnZWRJbiA/IFwibm90XCIgOiBcImFscmVhZHlcIn0gbG9nZ2VkIGluIWBcclxuICAgIHJldHVybiBhc3luYyAocmVxIDogTmV4dEFwaVJlcXVlc3QsIHJlcyA6IE5leHRBcGlSZXNwb25zZVdpdGhMb2NhbHMsIG5leHQgOiBhbnkpID0+IHtcclxuICAgICAgICBpZiAoYWxsb3dJZkxvZ2dlZEluID8gcmVzLmxvY2Fscy51c2VyID09PSB1bmRlZmluZWQgOiByZXMubG9jYWxzLnVzZXIgIT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtlcnJvciwgbWVzc2FnZSA6IGVycm9yTWVzc2FnZX0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXh0KCk7XHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOlsibG9naW5TdGF0dXMiLCJhbGxvd0lmTG9nZ2VkSW4iLCJlcnJvciIsImVycm9yTWVzc2FnZSIsInJlcSIsInJlcyIsIm5leHQiLCJsb2NhbHMiLCJ1c2VyIiwidW5kZWZpbmVkIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./middleware/loginStatus.ts\n");

/***/ }),

/***/ "(api)/./pages/api/user/me.ts":
/*!******************************!*\
  !*** ./pages/api/user/me.ts ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_connect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-connect */ \"next-connect\");\n/* harmony import */ var _controller_user_controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../controller/user.controller */ \"(api)/./controller/user.controller.ts\");\n/* harmony import */ var _middleware_extractJWT__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../middleware/extractJWT */ \"(api)/./middleware/extractJWT.ts\");\n/* harmony import */ var _middleware_loginStatus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../middleware/loginStatus */ \"(api)/./middleware/loginStatus.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([next_connect__WEBPACK_IMPORTED_MODULE_0__]);\nnext_connect__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nconst router = (0,next_connect__WEBPACK_IMPORTED_MODULE_0__.createRouter)();\nrouter.use(_middleware_extractJWT__WEBPACK_IMPORTED_MODULE_2__[\"default\"]).use((0,_middleware_loginStatus__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(true)).get(_controller_user_controller__WEBPACK_IMPORTED_MODULE_1__.myInfo);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (router.handler());\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvdXNlci9tZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUM0QztBQUNpQjtBQUNMO0FBQ0U7QUFHMUQsTUFBTUksTUFBTSxHQUFHSiwwREFBWSxFQUE2QztBQUV4RUksTUFBTSxDQUFDQyxHQUFHLENBQUNILDhEQUFVLENBQUMsQ0FBQ0csR0FBRyxDQUFDRixtRUFBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUNHLEdBQUcsQ0FBQ0wsK0RBQU0sQ0FBQztBQUV6RCxpRUFBZUcsTUFBTSxDQUFDRyxPQUFPLEVBQUUsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Vuc29tbmlhLy4vcGFnZXMvYXBpL3VzZXIvbWUudHM/ZjQ2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCB9IGZyb20gXCJuZXh0XCI7XHJcbmltcG9ydCB7IGNyZWF0ZVJvdXRlciB9IGZyb20gXCJuZXh0LWNvbm5lY3RcIjtcclxuaW1wb3J0IHsgbXlJbmZvIH0gZnJvbSBcIi4uLy4uLy4uL2NvbnRyb2xsZXIvdXNlci5jb250cm9sbGVyXCI7XHJcbmltcG9ydCBleHRyYWN0SldUIGZyb20gXCIuLi8uLi8uLi9taWRkbGV3YXJlL2V4dHJhY3RKV1RcIjtcclxuaW1wb3J0IGxvZ2luU3RhdHVzIGZyb20gXCIuLi8uLi8uLi9taWRkbGV3YXJlL2xvZ2luU3RhdHVzXCI7XHJcbmltcG9ydCB7IE5leHRBcGlSZXNwb25zZVdpdGhMb2NhbHMgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXMvdHlwZXNcIjtcclxuXHJcbmNvbnN0IHJvdXRlciA9IGNyZWF0ZVJvdXRlcjxOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlV2l0aExvY2Fscz4oKVxyXG5cclxucm91dGVyLnVzZShleHRyYWN0SldUKS51c2UobG9naW5TdGF0dXModHJ1ZSkpLmdldChteUluZm8pXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIuaGFuZGxlcigpOyJdLCJuYW1lcyI6WyJjcmVhdGVSb3V0ZXIiLCJteUluZm8iLCJleHRyYWN0SldUIiwibG9naW5TdGF0dXMiLCJyb3V0ZXIiLCJ1c2UiLCJnZXQiLCJoYW5kbGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/user/me.ts\n");

/***/ }),

/***/ "(api)/./utils/createJWT.ts":
/*!****************************!*\
  !*** ./utils/createJWT.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ \"(api)/./config.ts\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction createJWT(user) {\n    const { keyGeneratingJWT , issuer , expireTime  } = _config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].jwt;\n    const expires = new Date(Date.now() + expireTime);\n    try {\n        const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign({\n            ...user,\n            password: undefined\n        }, keyGeneratingJWT, {\n            algorithm: \"HS256\",\n            expiresIn: \"1d\",\n            issuer\n        });\n        return {\n            error: null,\n            response: token\n        };\n    } catch (error) {\n        return {\n            error,\n            response: undefined\n        };\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (createJWT);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9jcmVhdGVKV1QudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVxQztBQUNQO0FBRTlCLFNBQVNFLFNBQVMsQ0FBRUMsSUFBVyxFQUFFO0lBQzdCLE1BQU0sRUFBQ0MsZ0JBQWdCLEdBQUVDLE1BQU0sR0FBRUMsVUFBVSxHQUFDLEdBQUdOLG1EQUFnQjtJQUMvRCxNQUFNTyxPQUFPLEdBQUcsSUFBSUMsSUFBSSxDQUFDQSxJQUFJLENBQUNDLEdBQUcsRUFBRSxHQUFHSCxVQUFVLENBQUM7SUFDakQsSUFBSTtRQUNBLE1BQU1JLEtBQUssR0FBR1Qsd0RBQVEsQ0FBQztZQUFDLEdBQUdFLElBQUk7WUFBRVMsUUFBUSxFQUFHQyxTQUFTO1NBQUMsRUFBZ0JULGdCQUFnQixFQUFFO1lBQ3BGVSxTQUFTLEVBQUcsT0FBTztZQUNuQkMsU0FBUyxFQUFHLElBQUk7WUFBRVYsTUFBTTtTQUMzQixDQUFDO1FBQ0YsT0FBTztZQUFDVyxLQUFLLEVBQUcsSUFBSTtZQUFFQyxRQUFRLEVBQUdQLEtBQUs7U0FBQztLQUMxQyxDQUNELE9BQU9NLEtBQUssRUFBRTtRQUNWLE9BQU87WUFBQ0EsS0FBSztZQUFFQyxRQUFRLEVBQUdKLFNBQVM7U0FBQztLQUN2QztDQUNKO0FBRUQsaUVBQWVYLFNBQVMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Vuc29tbmlhLy4vdXRpbHMvY3JlYXRlSldULnRzP2E2MDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcclxuaW1wb3J0IHR5cGUgeyBVc2VyLCBVc2VyT3BhcXVlfSBmcm9tIFwiLi4vdHlwZXMvdHlwZXNcIlxyXG5pbXBvcnQgc2VydmVyQ29uZmlnIGZyb20gXCIuLi9jb25maWdcIjtcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVKV1QgKHVzZXIgOiBVc2VyKSB7XHJcbiAgICBjb25zdCB7a2V5R2VuZXJhdGluZ0pXVCwgaXNzdWVyLCBleHBpcmVUaW1lfSA9IHNlcnZlckNvbmZpZy5qd3Q7XHJcbiAgICBjb25zdCBleHBpcmVzID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIGV4cGlyZVRpbWUpXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oey4uLnVzZXIsIHBhc3N3b3JkIDogdW5kZWZpbmVkfSBhcyBVc2VyT3BhcXVlLCBrZXlHZW5lcmF0aW5nSldULCB7XHJcbiAgICAgICAgICAgIGFsZ29yaXRobSA6IFwiSFMyNTZcIixcclxuICAgICAgICAgICAgZXhwaXJlc0luIDogXCIxZFwiLCBpc3N1ZXJcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiB7ZXJyb3IgOiBudWxsLCByZXNwb25zZSA6IHRva2VufVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHtlcnJvciwgcmVzcG9uc2UgOiB1bmRlZmluZWR9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUpXVDsiXSwibmFtZXMiOlsic2VydmVyQ29uZmlnIiwiand0IiwiY3JlYXRlSldUIiwidXNlciIsImtleUdlbmVyYXRpbmdKV1QiLCJpc3N1ZXIiLCJleHBpcmVUaW1lIiwiZXhwaXJlcyIsIkRhdGUiLCJub3ciLCJ0b2tlbiIsInNpZ24iLCJwYXNzd29yZCIsInVuZGVmaW5lZCIsImFsZ29yaXRobSIsImV4cGlyZXNJbiIsImVycm9yIiwicmVzcG9uc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./utils/createJWT.ts\n");

/***/ }),

/***/ "(api)/./utils/prisma.ts":
/*!*************************!*\
  !*** ./utils/prisma.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prisma = global.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9wcmlzbWEudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBTTlDLE1BQU1DLE1BQU0sR0FBR0MsTUFBTSxDQUFDRCxNQUFNLElBQUksSUFBSUQsd0RBQVksRUFBRTtBQUVsRCxpRUFBZUMsTUFBTSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdW5zb21uaWEvLi91dGlscy9wcmlzbWEudHM/OGFkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcclxuXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICAgIHZhciBwcmlzbWEgOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmNvbnN0IHByaXNtYSA9IGdsb2JhbC5wcmlzbWEgfHwgbmV3IFByaXNtYUNsaWVudCgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcHJpc21hOyJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwcmlzbWEiLCJnbG9iYWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./utils/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/user/me.ts"));
module.exports = __webpack_exports__;

})();